<? namespace Bitrix\Main;$GLOBALS['____392940437']= array(base64_decode('Z'.'mlsZ'.'V9le'.'G'.'l'.'zdHM='),base64_decode('c3RydG9'.'1cHB'.'lcg='.'='),base64_decode(''.'bWQ1'),base64_decode('bW'.'Q1'),base64_decode('aW5'.'fYXJyYXk='),base64_decode(''.'a'.'W5fYXJ'.'yYX'.'k='),base64_decode('aW'.'5fY'.'XJy'.'YX'.'k'.'='),base64_decode('Z'.'G'.'VmaW5lZA=='),base64_decode('ZGVmaW5'.'l'.'ZA=='),base64_decode('ZGVmaW'.'5lZA'.'=='),base64_decode('Zm'.'l'.'sZV9leGlzdHM='),base64_decode('ZmlsZV'.'9leG'.'lzdHM='),base64_decode('Zm'.'ls'.'Z'.'V9leGl'.'z'.'dHM='),base64_decode('Zm'.'lsZ'.'V'.'9leGlzdH'.'M='),base64_decode('ZXhw'.'b'.'G9kZQ=='));if(!function_exists(__NAMESPACE__.'\\___1051083598')){function ___1051083598($_1069575444){static $_1734975961= false; if($_1734975961 == false) $_1734975961=array(''.'L2Jpd'.'HJpeC9saWNl'.'bn'.'NlX2tl'.'eS5waHA'.'=','','','REVNT'.'w'.'==','REVNTw==','QklUUklY','TElDRU5'.'DRQ='.'=',''.'REVNTw='.'=','L2tleV91'.'c'.'GRh'.'dGUucGhwP2xpY2Vuc2Vfa2V'.'5PQ==','JnRvYmFza2V0PXkmbGFuZz0=','cnU=','a3o=','Ynk=','aHR0'.'c'.'HM6Ly9'.'kZX'.'YuMWM'.'tYm'.'l0'.'cml4L'.'nJ1L'.'2'.'xl'.'Y'.'XJua'.'W5nL2Nvd'.'XJz'.'ZS9pb'.'mRl'.'eC5waHA'.'/Q'.'09VUl'.'NFX0lE'.'P'.'TEzN'.'S'.'ZM'.'RVN'.'T'.'T'.'0'.'5fS'.'UQ9Mj'.'U'.'3MjA=','aH'.'R0cHM6Ly9'.'0cmFpbmluZy5'.'iaXRya'.'XgyN'.'C'.'5jb20'.'vc3V'.'wcG'.'9y'.'d'.'C90cmF'.'pbmluZ'.'y9jb'.'3'.'Vy'.'c'.'2UvaW5k'.'ZXgucGhwP'.'0'.'N'.'PVVJT'.'R'.'V9JRD0xN'.'zgmTEV'.'TU09O'.'X0'.'l'.'EPT'.'I1OTMyJ'.'k'.'x'.'FU1NPTl9QQVRIPTE3NTI'.'wL'.'jE'.'3'.'NTY'.'yL'.'jI1'.'OTMwLj'.'I1'.'OTMy',''.'cnU'.'=','Ynk'.'=',''.'a3o=','ZGU=','Z'.'XU=','ZnI'.'=',''.'cGw'.'=','a'.'XQ'.'=',''.'dWs=','ZXU'.'=',''.'Y29'.'t','ZW4=',''.'REVN'.'Tw'.'==','WQ'.'==','VElNRUxJTUlUX0VESVRJT04=','WQ='.'=','RU5'.'DT'.'0RF',''.'WQ==','U'.'2l0Z'.'UV4cGlyZUR'.'h'.'dGU=',''.'bW'.'F'.'p'.'bg==','fn'.'N1c'.'H'.'Bvc'.'nRfZml'.'uaXN'.'o'.'X2RhdGU=','WS1t'.'LWQ'.'=','WS1t'.'LWQ=','Yml0cml'.'4Mj'.'Q'.'=','b'.'WFpbg==','flBBU'.'kFNX'.'0N'.'MS'.'UVO'.'VF'.'9'.'MQU5'.'H','a'.'W50cmFu'.'ZXQ=','ZW4=','cnU=','bWFpbg==','dmV'.'uZG9'.'y','dWF'.'fYml'.'0cml'.'4'.'X'.'3Bv'.'c'.'n'.'Rh'.'bA==','dWE=','Yml'.'0cml4'.'X3'.'Bvc'.'nRhb'.'A==','ZW4=','MWNfYml0cml4X3B'.'vc'.'nRhbA'.'==','cnU=','L'.'2JpdHJpeC9t'.'b2R'.'1bGVzL21haW4vbGFuZy91YQ='.'=','dWE=',''.'L2J'.'pdHJpeC9tb2R1bGVzL21haW4vb'.'GFu'.'Z'.'y9ieQ==','Ynk=','L2'.'Jp'.'dHJ'.'peC9tb2R'.'1bG'.'V'.'zL21haW4vbGFuZy9r'.'eg==',''.'a3o'.'=','L2JpdHJpeC'.'9tb2R'.'1bGVzL21haW4'.'vbGFuZy9ydQ==',''.'c'.'nU'.'=','bWFpbg'.'==','flBBU'.'k'.'F'.'NX1BB'.'UlRO'.'RV'.'Jf'.'SU'.'Q=','bWF'.'pb'.'g='.'=','UEFSQU1fTUFYX1'.'VTRVJT',''.'bWFpbg'.'==','fkNPVU5U'.'X0VYVFJ'.'B','Tg==','W'.'Q'.'==','ZXh0c'.'mFuZX'.'Q=','QU5EIF'.'UuTEFTVF9MT0dJ'.'TiA+IA==','QU'.'5E'.'I'.'FUuTEFTVF9MT'.'0d'.'JTiBJUyB'.'OT1QgTlVMTA'.'==','aW50cmFu'.'ZXQ'.'=','ZXh0cmF'.'uZX'.'Q=',''.'ZXh0c'.'mFuZXRfZ'.'3Jv'.'dX'.'A=','bWFpbg'.'==','f'.'mxpY'.'2Vuc2V'.'fbmFtZQ==','bWFpbg'.'==',''.'fmxpY'.'2'.'Vuc2VfY29k'.'Z'.'XM=','','LA'.'==');return base64_decode($_1734975961[$_1069575444]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_1692526806= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_1692526806 === null){ $_1959947561= Loader::getDocumentRoot(). ___1051083598(0); $LICENSE_KEY= ___1051083598(1); if($GLOBALS['____392940437'][0]($_1959947561)){ include($_1959947561);} $this->_1692526806=($LICENSE_KEY == ___1051083598(2) || $GLOBALS['____392940437'][1]($LICENSE_KEY) == ___1051083598(3)? ___1051083598(4): $LICENSE_KEY);} return $this->_1692526806;} public function getHashLicenseKey(): string{ return $GLOBALS['____392940437'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____392940437'][3](___1051083598(5). $this->getKey(). ___1051083598(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1051083598(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1051083598(8). $this->getHashLicenseKey(). ___1051083598(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1188128008= $this->getRegion(); if($GLOBALS['____392940437'][4]($_1188128008,[___1051083598(10), ___1051083598(11), ___1051083598(12)])){ return ___1051083598(13);} return ___1051083598(14);} public function getRenewalLink(): string{ $_1188128008= $this->getRegion(); if($GLOBALS['____392940437'][5]($_1188128008,[___1051083598(15), ___1051083598(16), ___1051083598(17), ___1051083598(18)])){ return self::URL_RENEWAL_LICENSE[$_1188128008];} if($GLOBALS['____392940437'][6]($_1188128008,[___1051083598(19), ___1051083598(20), ___1051083598(21), ___1051083598(22), ___1051083598(23)])){ return self::URL_RENEWAL_LICENSE[___1051083598(24)];} return self::URL_RENEWAL_LICENSE[___1051083598(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1051083598(26)];} public function isDemo(): bool{ return $GLOBALS['____392940437'][7](___1051083598(27)) && DEMO === ___1051083598(28);} public function isTimeBound(): bool{ return $GLOBALS['____392940437'][8](___1051083598(29)) && TIMELIMIT_EDITION === ___1051083598(30);} public function isEncoded(): bool{ return $GLOBALS['____392940437'][9](___1051083598(31)) && ENCODE === ___1051083598(32);} public function getExpireDate():?Date{ $_31193394= (int)($GLOBALS[___1051083598(33)] ??(898-2*449)); if($_31193394>(204*2-408)){ return Date::createFromTimestamp($_31193394);} return null;} public function getSupportExpireDate():?Date{ $_31193394= Option::get(___1051083598(34), ___1051083598(35)); if(Date::isCorrect($_31193394, ___1051083598(36))){ return new Date($_31193394, ___1051083598(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1051083598(38))){ return \CBitrix24::getPortalZone();} $_1188128008= Option::get(___1051083598(39), ___1051083598(40)); if(!empty($_1188128008)){ return $_1188128008;} $_1188128008= $this->__145470261(); if(!empty($_1188128008)){ return $_1188128008;} return $this->__1116722099();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1051083598(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1051083598(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1051083598(43)];} private function __145470261():?string{ $_1910996681= Option::get(___1051083598(44), ___1051083598(45)); if($_1910996681 === ___1051083598(46)){ return ___1051083598(47);} if($_1910996681 === ___1051083598(48)){ return ___1051083598(49);} if($_1910996681 === ___1051083598(50)){ return ___1051083598(51);} return null;} private function __1116722099():?string{ $_1150034816= Application::getDocumentRoot(); if($GLOBALS['____392940437'][10]($_1150034816. ___1051083598(52))){ return ___1051083598(53);} if($GLOBALS['____392940437'][11]($_1150034816. ___1051083598(54))){ return ___1051083598(55);} if($GLOBALS['____392940437'][12]($_1150034816. ___1051083598(56))){ return ___1051083598(57);} if($GLOBALS['____392940437'][13]($_1150034816. ___1051083598(58))){ return ___1051083598(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1051083598(60), ___1051083598(61), min(140,0,46.666666666667));} public function getMaxUsers(): int{ return (int)Option::get(___1051083598(62), ___1051083598(63),(220*2-440));} public function isExtraCountable(): bool{ return Option::get(___1051083598(64), ___1051083598(65), ___1051083598(66)) === ___1051083598(67) && ModuleManager::isModuleInstalled(___1051083598(68));} public function getActiveUsersCount(Date $_1200421768= null): int{ $_1806967177= Application::getConnection(); $_67732489=(226*2-452); if($_1200421768 !== null){  $_1851461429= ___1051083598(69).$_1806967177->getSqlHelper()->convertToDbDate($_1200421768);} else{  $_1851461429= ___1051083598(70);} if(ModuleManager::isModuleInstalled(___1051083598(71))){ $_2114691030="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1851461429}
			"; $_67732489= (int)$_1806967177->queryScalar($_2114691030); $_1296790111= (int)Option::get(___1051083598(72), ___1051083598(73)); if($_1296790111> min(88,0,29.333333333333) && $this->isExtraCountable()){ $_2114691030="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1296790111}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1851461429}
							AND D.VALUE_ID IS NULL
					"; $_67732489 += (int)$_1806967177->queryScalar($_2114691030);}} return $_67732489;}  public function getName(): string{ return Option::get(___1051083598(74), ___1051083598(75));}  public function getCodes(): array{ $_30490946= Option::get(___1051083598(76), ___1051083598(77)); if($_30490946 != ___1051083598(78)){ return $GLOBALS['____392940437'][14](___1051083598(79), $_30490946);} return[];}}?>